{
  "data": [
    {
      "title": "用deepin-wine6安装/运行exe程序的方法",
      "paragraphs": [
        {
          "context": "注：建立deepin-wine6-stable环境：新装的系统需要安装一款应用商店里使用deepin-wine6-stable运行的wine应用（如wine版微信、wine版QQ），并运行一下。（系统会自动建立deepin-wine6-stable环境）",
          "qas": [
            {
              "id": "3-34-1",
              "question": "如何为新系统建立deepin-wine6-stable环境？",
              "answers": [
                {
                  "text": "安装应用商店里使用deepin-wine6-stable运行的wine应用（如wine版微信），并运行一次",
                  "answer_start": 31
                }
              ]
            }
          ]
        },
        {
          "context": "安装程序到新建容器的终端命令：WINEARCH=win32或者wine64 WINEPREFIX=容器路径 deepin-wine6-stable 需安装的exe路径。案例：WINEARCH=win32 WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable ~/Downloads/7z2107.exe",
          "qas": [
            {
              "id": "3-34-2",
              "question": "安装32位7-Zip到新建容器的完整命令是什么？",
              "answers": [
                {
                  "text": "WINEARCH=win32 WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable ~/Downloads/7z2107.exe",
                  "answer_start": 72
                }
              ]
            },
            {
              "id": "3-34-3",
              "question": "命令中哪个参数指定容器架构类型？",
              "answers": [
                {
                  "text": "WINEARCH=win32或者wine64",
                  "answer_start": 0
                }
              ]
            },
            {
              "id": "3-34-4",
              "question": "安装exe程序时提示安装mono该如何处理？",
              "answers": [
                {
                  "text": "可点取消。mono模拟的.NET Framework，不是所有exe软件都需要这个。需要的时候你再手动安装即可",
                  "answer_start": 182
                }
              ]
            }
          ]
        },
        {
          "context": "运行已安装exe的终端命令：WINEPREFIX=容器路径 deepin-wine6-stable \"c:/exe主程序在虚拟C盘的路径\"。案例：WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/7zFM.exe\"",
          "qas": [
            {
              "id": "3-34-5",
              "question": "如何运行已安装的7-Zip主程序？",
              "answers": [
                {
                  "text": "WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/7zFM.exe\"",
                  "answer_start": 60
                }
              ]
            },
            {
              "id": "3-34-6",
              "question": "运行命令中哪个参数指定程序在虚拟C盘的位置？",
              "answers": [
                {
                  "text": "\"c:/exe主程序在虚拟C盘的路径\"",
                  "answer_start": 49
                }
              ]
            }
          ]
        },
        {
          "context": "设置winecfg的方法：WINEPREFIX=容器路径 /opt/deepin-wine6-stable/bin/winecfg。可修改Windows版本（默认为Windows 7）和dll函数顶替（如添加atl100、msls31等）。案例软件7-Zip无需修改即可运行。",
          "qas": [
            {
              "id": "3-34-7",
              "question": "如何为指定容器打开winecfg配置工具？",
              "answers": [
                {
                  "text": "WINEPREFIX=容器路径 /opt/deepin-wine6-stable/bin/winecfg",
                  "answer_start": 14
                }
              ]
            },
            {
              "id": "3-34-8",
              "question": "winecfg可以修改哪些系统参数？",
              "answers": [
                {
                  "text": "Windows版本和dll函数顶替",
                  "answer_start": 61
                }
              ]
            },
            {
              "id": "3-34-9",
              "question": "winecfg默认的Windows版本是什么？",
              "answers": [
                {
                  "text": "Windows 7",
                  "answer_start": 57
                }
              ]
            }
          ]
        },
        {
          "context": "解决字体问题的三种方法：1.安装\"Win字体\"应用并勾选加载系统字体；2.复制字体文件到容器Fonts目录：~/.deepinwine/容器名/drive_c/windows/Fonts；3.修改注册表替换字体（如SimSun替换为Noto Serif CJK SC）",
          "qas": [
            {
              "id": "3-34-10",
              "question": "如何通过应用商店解决字体问题？",
              "answers": [
                {
                  "text": "安装\"Win字体\"应用并勾选加载系统字体",
                  "answer_start": 22
                }
              ]
            },
            {
              "id": "3-34-11",
              "question": "容器字体文件夹的标准路径是什么？",
              "answers": [
                {
                  "text": "~/.deepinwine/容器名/drive_c/windows/Fonts",
                  "answer_start": 75
                }
              ]
            },
            {
              "id": "3-34-12",
              "question": "为什么用wine安装的exe软件可能出现字体问题？",
              "answers": [
                {
                  "text": "linux系统默认是没有windows常用字体（如Arial、微软雅黑、宋体）",
                  "answer_start": 5
                }
              ]
            }
          ]
        },
        {
          "context": "创建桌面快捷方法：新建.desktop文件，内容示例：[Desktop Entry]\nExec=sh -c 'WINEPREFIX=/home/$USER/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/7zFM.exe\"'\nName=7-zip。注意Exec路径不能使用~符号",
          "qas": [
            {
              "id": "3-34-13",
              "question": ".desktop文件中哪个字段指定程序启动命令？",
              "answers": [
                {
                  "text": "Exec=",
                  "answer_start": 67
                }
              ]
            },
            {
              "id": "3-34-14",
              "question": "创建快捷方式时绝对路径需要注意什么限制？",
              "answers": [
                {
                  "text": "Exec路径不能使用~符号",
                  "answer_start": 197
                }
              ]
            }
          ]
        },
        {
          "context": "卸载exe软件的终端命令：WINEPREFIX=容器路径 deepin-wine6-stable \"c:/exe的卸载程序路径\"。案例：WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/Uninstall.exe\"",
          "qas": [
            {
              "id": "3-34-15",
              "question": "如何卸载7-Zip程序？",
              "answers": [
                {
                  "text": "WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/Uninstall.exe\"",
                  "answer_start": 67
                }
              ]
            }
          ]
        },
        {
          "context": "注：1. 建立deepin-wine6-stable环境：新装的系统需要安装一款应用商店里使用deepin-wine6-stable运行的wine应用（如wine版微信、wine版QQ），并运行一下。（系统会自动建立deepin-wine6-stable环境）2. 以下教学以32位7-Zip的安装程序7z2107.exe（版本21.7.0.0）为案例软件，该exe程序我放在系统下载（Downloads）文件夹，即/home/$USER/Downloads/7z2107.exe，或者写作~/Downloads/7z2107.exe。多数情况下，/home/$USER与~可以相互替代。",
          "qas": [
            {
              "id": "3-34-16",
              "question": "案例中7z2107.exe放在哪个文件夹？",
              "answers": [
                {
                  "text": "系统下载（Downloads）文件夹，即/home/$USER/Downloads/7z2107.exe，或者写作~/Downloads/7z2107.exe",
                  "answer_start": 139
                }
              ]
            },
            {
              "id": "3-34-17",
              "question": "/home/$USER与~多数情况下可以怎样？",
              "answers": [
                {
                  "text": "相互替代",
                  "answer_start": 246
                }
              ]
            }
          ]
        },
        {
          "context": "一、安装exe程序。安装程序到一个新建的容器。终端命令：WINEARCH=win32或者wine64 WINEPREFIX=容器路径 deepin-wine6-stable 需安装/运行的exe软件的路径。案例：WINEARCH=win32 WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable ~/Downloads/7z2107.exe。（注：如果提示安装mono，可点取消。mono模拟的.NET Framework，不是所有exe软件都需要这个。需要的时候你再手动安装即可）",
          "qas": [
            {
              "id": "3-34-18",
              "question": "以7z2107.exe为例，安装到新建容器的命令是什么？",
              "answers": [
                {
                  "text": "WINEARCH=win32 WINEPREFIX=~/.deepinwine/Wine-7zip deepin-wine6-stable ~/Downloads/7z2107.exe",
                  "answer_start": 95
                }
              ]
            }
          ]
        },
        {
          "context": "上述命令结构解析：1. WINEARCH=后面写win32，即表示新建一个32位的容器，如果写win64，即表示新建一个64位的容器。2. WINEPREFIX=是指定的容器路径（此处Wine-7zip就是容器名称，如果容器Wine-7zip不存在，默认会新建这个容器）。3. 如果要用deepin-wine5，中间可以写成deepin-wine5；如果要用deepin-wine5-stable，中间可以写成~/.deepinwine/deepin-wine5-stable/bin/wine。4. 最后接的是你要安装的exe安装程序的所在路径。",
          "qas": [
            {
              "id": "3-34-19",
              "question": "WINEARCH=win32和win64分别表示什么？",
              "answers": [
                {
                  "text": "WINEARCH=后面写win32，即表示新建一个32位的容器，如果写win64，即表示新建一个64位的容器",
                  "answer_start": 5
                }
              ]
            },
            {
              "id": "3-34-20",
              "question": "WINEPREFIX=的作用是什么？",
              "answers": [
                {
                  "text": "指定的容器路径（此处Wine-7zip就是容器名称，如果容器Wine-7zip不存在，默认会新建这个容器）",
                  "answer_start": 85
                }
              ]
            },
            {
              "id": "3-34-21",
              "question": "如果要用deepin-wine5，命令中间应如何写？",
              "answers": [
                {
                  "text": "deepin-wine5",
                  "answer_start": 207
                }
              ]
            }
          ]
        },
        {
          "context": "三、winecfg设置。可设置Windows版本、替换dll函数、窗口修饰、显示分辨率等。1. 修改Windows版本。默认的Windows版本是Windows 7，有的exe安装时提示系统版本太低的话，就需要利用winecfg修改为Windows 10。有的exe软件在Windows XP表现更好，就需要用winecfg修改为Windows XP。打开winecfg的终端命令：WINEPREFIX=容器路径 /opt/deepin-wine6-stable/bin/winecfg。案例：WINEPREFIX=~/.deepinwine/Wine-7zip /opt/deepin-wine6-stable/bin/winecfg。",
          "qas": []
        },
        {
          "context": "上述命令结构解析：WINEPREFIX=是指定的容器路径，后面打一个空格，然后输入winecfg所在路径 /opt/deepin-wine6-stable/bin/winecfg。案例软件7-Zip无需修改Windows版本即可正常运行。2. 函数顶替。有的exe软件，无需新增函数顶替。有的exe软件，新增以下几个函数顶替基本上就能正常运行了：atl100、mlang、msls31、riched20、usp10。有的exe软件还需要添加msvcp60、riched32等函数。案例软件7-Zip无需新增顶替函数即可正常运行。",
          "qas": [
            {
              "id": "3-34-22",
              "question": "哪些函数顶替可能让部分exe软件正常运行？",
              "answers": [
                {
                  "text": "atl100、mlang、msls31、riched20、usp10，有的还需要添加msvcp60、riched32等函数",
                  "answer_start": 143
                }
              ]
            }
          ]
        },
        {
          "context": "方法1：直接安装“Win字体”应用（可以与方法2并用）。到星火应用商店里下载安装“Win字体”。安装好后，再调出winecfg（方法如前述），字体选项下勾选“允许加载系统字体”，建议顺便把“允许加载Windows Fonts目录下的字体”也勾上。",
          "qas": [
            {
              "id": "3-34-23",
              "question": "字体设置的方法1是什么？",
              "answers": [
                {
                  "text": "直接安装“Win字体”应用（可以与方法2并用）。到星火应用商店里下载安装“Win字体”。安装好后，再调出winecfg（方法如前述），字体选项下勾选“允许加载系统字体”，建议顺便把“允许加载Windows Fonts目录下的字体”也勾上",
                  "answer_start": 0
                }
              ]
            }
          ]
        },
        {
          "context": "方法2：复制字体到虚拟C盘的字体文件夹（可以与方法1并用）。将exe软件需要用的字体文件（如宋体的文件为simsun.ttf）复制粘贴到容器的字体文件夹，路径通常为：~/.deepinwine/容器名称/drive_c/windows/Fonts。案例软件Fonts文件夹路径：~/.deepinwine/Wine-7zip/drive_c/windows/Fonts。调出winecfg（方法如前述），字体选项下勾选“允许加载Windows Fonts目录下的字体”，建议顺便把“允许加载系统字体”也勾上。",
          "qas": [
            {
              "id": "3-34-24",
              "question": "字体设置的方法2是什么？",
              "answers": [
                {
                  "text": "复制字体到虚拟C盘的字体文件夹（可以与方法1并用）。将exe软件需要用的字体文件（如宋体的文件为simsun.ttf）复制粘贴到容器的字体文件夹，路径通常为：~/.deepinwine/容器名称/drive_c/windows/Fonts。调出winecfg（方法如前述），字体选项下勾选“允许加载Windows Fonts目录下的字体”，建议顺便把“允许加载系统字体”也勾上",
                  "answer_start": 0
                }
              ]
            }
          ]
        },
        {
          "context": "方法3：修改字体注册表（尽量不要与方法1和方法2并用）。不安装字体，而是在注册表里把需要的字体替换为你系统已有字体。打开注册表的命令：WINEPREFIX=容器路径 /opt/deepin-wine6-stable/bin/regedit。案例：WINEPREFIX=~/.deepinwine/Wine-7zip /opt/deepin-wine6-stable/bin/regedit。找到HKEY_CURRENT_USER\\Software\\Wine\\Fonts\\Replacements，如果没有Replacements，新建一个项，项名为Replacements。然后在Replacements下添加字符串值。如要把宋体（SimSun）替换为思源宋体（Noto Serif CJK SC），则字符串名称为SimSun，值为Noto Serif CJK SC。",
          "qas": [
            {
              "id": "3-34-25",
              "question": "打开注册表的命令是什么？",
              "answers": [
                {
                  "text": "WINEPREFIX=容器路径 /opt/deepin-wine6-stable/bin/regedit",
                  "answer_start": 85
                }
              ]
            },
            {
              "id": "3-34-26",
              "question": "如何在注册表中替换宋体为思源宋体？",
              "answers": [
                {
                  "text": "找到HKEY_CURRENT_USER\\Software\\Wine\\Fonts\\Replacements，如果没有Replacements，新建一个项，项名为Replacements。然后在Replacements下添加字符串值，字符串名称为SimSun，值为Noto Serif CJK SC",
                  "answer_start": 173
                }
              ]
            }
          ]
        },
        {
          "context": "五、winetricks设置。可以添加一些运行时、组件、dll。不是每一个exe软件都需要用到winetricks。案例软件7-zip无需设置winetricks。安装winetricks的终端命令：sudo apt install winetricks。运行winetricks的终端命令：WINEPREFIX=~/.deepinwine/Wine-7zip winetricks。选择默认的wine容器——安装windows DLL和组件，然后根据需要安装运行时、组件、dll。",
          "qas": [
            {
              "id": "3-34-27",
              "question": "安装winetricks的终端命令是什么？",
              "answers": [
                {
                  "text": "sudo apt install winetricks",
                  "answer_start": 85
                }
              ]
            },
            {
              "id": "3-34-28",
              "question": "运行winetricks的终端命令是什么（以案例容器为例）？",
              "answers": [
                {
                  "text": "WINEPREFIX=~/.deepinwine/Wine-7zip winetricks",
                  "answer_start": 115
                }
              ]
            }
          ]
        },
        {
          "context": "六、给exe软件制作一个桌面图标。在桌面新建一个txt文件（如7zip.txt），复制以下内容到txt文件里：[Desktop Entry] Categories=Application Exec=sh -c 'WINEPREFIX=/home/$USER/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/7zFM.exe\"' Icon=/usr/share/icons/Default/devices/64/media-optical.svg MimeType= Name=7-zip StartupNotify=true Type=Application X-Deepin-Vendor=user-custom。保存退出txt，右键重命名，把这个txt文件的后缀改为desktop（如7zip.desktop）。",
          "qas": [
            {
              "id": "3-34-29",
              "question": "桌面图标配置文件中，Exec=后面的内容是什么（以案例为例）？",
              "answers": [
                {
                  "text": "sh -c 'WINEPREFIX=/home/$USER/.deepinwine/Wine-7zip deepin-wine6-stable \"c:/Program Files/7-Zip/7zFM.exe\"'",
                  "answer_start": 118
                }
              ]
            }
          ]
        },
        {
          "context": "注：Exec= ————sh -c 'WINEPREFIX=容器路径 deepin-wine6-stable \"c:/exe主程序路径在虚拟C盘里的路径\"'。Icon= ————指图标路径，文件格式一般为png、svg、icon，图标大小64×64为宜，图标格式最好是svg。Name= ————图标文件显示的名称。以上三项后面的内容可以根据你自己所安装的软件的实际情况更改。特别说明，Exec=后面不能用~来代替/home/$USER。",
          "qas": [
            {
              "id": "3-34-30",
              "question": "桌面图标配置文件中，Icon=的含义是什么？",
              "answers": [
                {
                  "text": "指图标路径，文件格式一般为png、svg、icon，图标大小64×64为宜，图标格式最好是svg",
                  "answer_start": 68
                }
              ]
            },
            {
              "id": "3-34-31",
              "question": "桌面图标配置文件中，Name=的含义是什么？",
              "answers": [
                {
                  "text": "图标文件显示的名称",
                  "answer_start": 195
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}