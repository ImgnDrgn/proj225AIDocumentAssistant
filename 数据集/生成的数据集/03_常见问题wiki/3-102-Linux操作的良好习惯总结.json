{
  "data": [
    {
      "title": "Linux操作的良好习惯总结",
      "paragraphs": [
        {
          "context": "线上操作时，测试很重要。曾有人因未测试修改sshd配置，重启后无法登录，幸有备份；还有人用rsync时目录写反且无备份，导致生产数据被删。",
          "qas": [
            {
              "question": "线上操作中测试的重要性体现在哪些例子中？",
              "id": "3-102-1",
              "answers": [
                {
                  "text": "有人因未测试修改sshd配置，重启后无法登录，幸有备份；还有人用rsync时目录写反且无备份，导致生产数据被删。",
                  "answer_start": 17
                }
              ]
            }
          ]
        },
        {
          "context": "执行命令前，Enter键按下前需再三确认，如rm -rf / var这类错误，一旦发生后果严重。",
          "qas": [
            {
              "question": "为什么执行命令前要在Enter前再三确认？",
              "id": "3-102-2",
              "answers": [
                {
                  "text": "因为像rm -rf / var这类错误，一旦发生后果严重。",
                  "answer_start": 30
                }
              ]
            }
          ]
        },
        {
          "context": "服务器运维应切忌多人操作，曾出现多人同时调试，导致配置文件被乱改，难以确定问题解决原因。",
          "qas": [
            {
              "question": "为什么服务器运维要切忌多人操作？",
              "id": "3-102-3",
              "answers": [
                {
                  "text": "曾出现多人同时调试，导致配置文件被乱改，难以确定问题解决原因。",
                  "answer_start": 23
                }
              ]
            }
          ]
        },
        {
          "context": "操作前先备份很重要，修改配置文件时，建议注释原选项再复制修改，数据有备份可减少损失。",
          "qas": [
            {
              "question": "操作前备份的好处是什么？",
              "id": "3-102-4",
              "answers": [
                {
                  "text": "修改配置文件时便于操作，数据有备份可减少损失。",
                  "answer_start": 17
                }
              ]
            },
            {
              "question": "修改配置文件时建议怎样做？",
              "id": "3-102-5",
              "answers": [
                {
                  "text": "注释原选项，然后再复制，修改。",
                  "answer_start": 23
                }
              ]
            }
          ]
        },
        {
          "context": "涉及数据时，要慎用rm -rf，网上有很多因它导致的删除主数据库等运维事故，小失误损失大。",
          "qas": [
            {
              "question": "涉及数据时，对rm -rf应持什么态度？",
              "id": "3-102-6",
              "answers": [
                {
                  "text": "要慎用，网上有很多因它导致的删除主数据库等运维事故，小失误损失大。",
                  "answer_start": 15
                }
              ]
            }
          ]
        },
        {
          "context": "备份操作非常重要，第三方支付网站每两小时完全备份一次，网贷平台每20分钟备份一次。",
          "qas": [
            {
              "question": "哪些例子体现了备份操作的重要性？",
              "id": "3-102-7",
              "answers": [
                {
                  "text": "第三方支付网站每两小时完全备份一次，网贷平台每20分钟备份一次。",
                  "answer_start": 17
                }
              ]
            }
          ]
        },
        {
          "context": "服务器环境中，稳定大于一切，不求最快但求最稳定、可用，未经测试不要用新软件，如nginx+php-fpm在生产环境中php易挂。",
          "qas": [
            {
              "question": "服务器环境中什么最重要？",
              "id": "3-102-8",
              "answers": [
                {
                  "text": "稳定大于一切，不求最快但求最稳定、可用。",
                  "answer_start": 15
                }
              ]
            },
            {
              "question": "生产环境中使用新软件有什么要求？",
              "id": "3-102-9",
              "answers": [
                {
                  "text": "未经测试，不要在服务器使用新的软件。",
                  "answer_start": 42
                }
              ]
            }
          ]
        },
        {
          "context": "数据保密很重要，如今各种艳照门、路由器后门事件频发，必须做好数据保密。",
          "qas": [
            {
              "question": "为什么要重视数据保密？",
              "id": "3-102-10",
              "answers": [
                {
                  "text": "如今各种艳照门、路由器后门事件频发。",
                  "answer_start": 15
                }
              ]
            }
          ]
        },
        {
          "context": "ssh安全方面，要更改默认端口、禁止root登录，使用普通用户+key认证+sudo规则+ip地址+用户限制，用hostdeny类防爆破解软件，筛选/etc/passwd中login的用户。",
          "qas": [
            {
              "question": "ssh安全有哪些措施？",
              "id": "3-102-11",
              "answers": [
                {
                  "text": "更改默认端口、禁止root登录，使用普通用户+key认证+sudo规则+ip地址+用户限制，用hostdeny类防爆破解软件，筛选/etc/passwd中login的用户。",
                  "answer_start": 15
                }
              ]
            }
          ]
        },
        {
          "context": "生产环境防火墙一定要开，遵循最小原则，drop所有，再放行需要的服务端口。",
          "qas": [
            {
              "question": "生产环境中防火墙应如何设置？",
              "id": "3-102-12",
              "answers": [
                {
                  "text": "一定要开，遵循最小原则，drop所有，再放行需要的服务端口。",
                  "answer_start": 11
                }
              ]
            }
          ]
        },
        {
          "context": "权限控制要精细，能以普通用户启动的服务坚决不用root，将服务权限控制到最低。",
          "qas": [
            {
              "question": "权限控制的原则是什么？",
              "id": "3-102-13",
              "answers": [
                {
                  "text": "能以普通用户启动的服务坚决不用root，将服务权限控制到最低，控制细粒度要精细。",
                  "answer_start": 0
                }
              ]
            }
          ]
        },
        {
          "context": "入侵检测和日志监控很重要，用第三方软件检测系统关键文件和服务配置文件改动，如/etc/passwd等；集中监控日志，如/var/log/secure等；用软件检测端口扫描并拉入host.deny。",
          "qas": [
            {
              "question": "入侵检测和日志监控包括哪些内容？",
              "id": "3-102-14",
              "answers": [
                {
                  "text": "用第三方软件检测系统关键文件和服务配置文件改动，如/etc/passwd等；集中监控日志，如/var/log/secure等；用软件检测端口扫描并拉入host.deny。",
                  "answer_start": 19
                }
              ]
            }
          ]
        },
        {
          "context": "系统运行监控包括硬件占用率（内存、硬盘、cpu、网卡）、os登录监控、系统关键文件监控，定期监控可预测硬件损坏概率，助力调优。",
          "qas": [
            {
              "question": "系统运行监控包括哪些内容？",
              "id": "3-102-15",
              "answers": [
                {
                  "text": "硬件占用率（内存、硬盘、cpu、网卡）、os登录监控、系统关键文件监控。",
                  "answer_start": 15
                }
              ]
            },
            {
              "question": "定期进行系统运行监控有什么作用？",
              "id": "3-102-16",
              "answers": [
                {
                  "text": "可预测硬件损坏的概率，并且给调优带来很实用的功能。",
                  "answer_start": 73
                }
              ]
            }
          ]
        },
        {
          "context": "服务监控针对web、db、lvs等应用，监控相关指标，便于在系统出现性能瓶颈时及时发现解决。",
          "qas": [
            {
              "question": "服务监控的对象有哪些？",
              "id": "3-102-17",
              "answers": [
                {
                  "text": "web、db、lvs等应用。",
                  "answer_start": 11
                }
              ]
            },
            {
              "question": "服务监控的作用是什么？",
              "id": "3-102-18",
              "answers": [
                {
                  "text": "在系统出现性能瓶颈的时候就能很快发现并解决。",
                  "answer_start": 35
                }
              ]
            }
          ]
        },
        {
          "context": "日志监控涉及硬件、os、应用程序的报错和警报信息，系统稳定时用处不大，出问题时没监控会很被动。",
          "qas": [
            {
              "question": "日志监控的内容是什么？",
              "id": "3-102-19",
              "answers": [
                {
                  "text": "硬件、os、应用程序的报错和警报信息。",
                  "answer_start": 11
                }
              ]
            },
            {
              "question": "没做日志监控会有什么后果？",
              "id": "3-102-20",
              "answers": [
                {
                  "text": "系统出现问题时会很被动。",
                  "answer_start": 56
                }
              ]
            }
          ]
        },
        {
          "context": "性能调优前要深入了解软件运行机制，如知道nginx比apache快的原理，必要时看懂源代码，否则调优文档是空谈。",
          "qas": [
            {
              "question": "性能调优前需要做什么？",
              "id": "3-102-21",
              "answers": [
                {
                  "text": "深入了解软件的运行机制，如知道nginx比apache快的原理，必要时看懂源代码。",
                  "answer_start": 15
                }
              ]
            }
          ]
        },
        {
          "context": "调优要有框架和先后顺序，数据库服务器调优是最后一步，应先从硬件和操作系统入手，分析瓶颈、查看日志、确定方向再操作。",
          "qas": [
            {
              "question": "调优的先后顺序是怎样的？",
              "id": "3-102-22",
              "answers": [
                {
                  "text": "数据库服务器调优是最后一步，应先从硬件和操作系统入手。",
                  "answer_start": 17
                }
              ]
            },
            {
              "question": "调优前应如何准备？",
              "id": "3-102-23",
              "answers": [
                {
                  "text": "分析瓶颈、查看日志、写出来调优方向，然后再入手。",
                  "answer_start": 57
                }
              ]
            }
          ]
        },
        {
          "context": "性能调优时每次只调一个参数，否则会迷糊；需基准测试判断效果，测试要接近业务真实需求，参数调优要符合业务场景。",
          "qas": [
            {
              "question": "性能调优时为何每次只调一个参数？",
              "id": "3-102-24",
              "answers": [
                {
                  "text": "调的多了，自己就迷糊了。",
                  "answer_start": 25
                }
              ]
            },
            {
              "question": "如何判断调优是否有用？",
              "id": "3-102-25",
              "answers": [
                {
                  "text": "需要进行基准测试，测试要接近业务真实需求。",
                  "answer_start": 39
                }
              ]
            }
          ]
        },
        {
          "context": "运维时要控制心态，很多误删发生在下班前或烦躁时，烦躁时应避免处理关键数据，有压力更要冷静，否则损失更大。",
          "qas": [
            {
              "question": "为什么运维时要控制心态？",
              "id": "3-102-26",
              "answers": [
                {
                  "text": "很多误删发生在下班前或烦躁时，烦躁时处理关键数据、有压力不冷静会导致更大损失。",
                  "answer_start": 11
                }
              ]
            }
          ]
        },
        {
          "context": "运维人员要对数据负责，生产环境和数据库不是儿戏，不备份后果严重。",
          "qas": [
            {
              "question": "运维人员对数据应持什么态度？",
              "id": "3-102-27",
              "answers": [
                {
                  "text": "要对数据负责，生产环境和数据库不是儿戏，不备份后果严重。",
                  "answer_start": 11
                }
              ]
            }
          ]
        },
        {
          "context": "运维要追根究底，曾有客户网站因内存不足、无swap分区，导致OOM kill mysqld进程，表损坏，修复后反复出现，最终升级内存解决。",
          "qas": [
            {
              "question": "为什么运维要追根究底？",
              "id": "3-102-28",
              "answers": [
                {
                  "text": "曾有客户网站问题修复后反复出现，追根究底才发现根本原因并解决。",
                  "answer_start": 11
                }
              ]
            }
          ]
        },
        {
          "context": "重要操作前要确认所在机器，尽量避免多开窗口，区分测试和生产环境。",
          "qas": [
            {
              "question": "重要操作前应注意什么？",
              "id": "3-102-29",
              "answers": [
                {
                  "text": "要确认自己所在的机器，尽量避免多开窗口，区分测试和生产环境。",
                  "answer_start": 0
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}