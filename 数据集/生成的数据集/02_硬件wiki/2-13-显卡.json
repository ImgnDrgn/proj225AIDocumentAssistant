{
  "title": "显卡",
  "paragraphs": [
    {
      "context": "显卡（Video card、Display card、Graphics card、Video adapter），是个人电脑最基本组成部分之一，用途是将计算机系统所需要的显示信息进行转换驱动显示器，并向显示器提供逐行或隔行扫描信号，控制显示器的正确显示，是连接显示器和个人电脑主板的重要组件，是“人机对话”的重要设备之一。Deepin目前支持AMD，NVIDIA，Intel等主流显卡，同时支持摩尔线程MTT S80国产显卡",
      "qas": [
        {
          "id": "2-13-1",
          "question": "显卡的用途是什么？",
          "answers": [
            {
              "text": "将计算机系统所需要的显示信息进行转换驱动显示器，并向显示器提供逐行或隔行扫描信号，控制显示器的正确显示",
              "answer_start": 48
            }
          ]
        },
        {
          "id": "2-13-2",
          "question": "Deepin系统支持哪些主流显卡和国产显卡？",
          "answers": [
            {
              "text": "主流显卡包括AMD、NVIDIA、Intel，国产显卡为摩尔线程MTT S80",
              "answer_start": 146
            }
          ]
        },
        {
          "id": "2-13-3",
          "question": "显卡在个人电脑中的核心角色有哪些？",
          "answers": [
            {
              "text": "是个人电脑最基本组成部分之一，是连接显示器和个人电脑主板的重要组件，是“人机对话”的重要设备之一",
              "answer_start": 22
            }
          ]
        }
      ]
    },
    {
      "context": "硬件型号命令查询，终端执行：lspci |grep -i 'VGA'    #查看默认集成显卡型号；lspci |grep -i nvidia  #查看NVIDIA类型的显卡型号；sudo dmesg | grep -i 'VGA'  #通过查看开机信息获取显卡信息",
      "qas": [
        {
          "id": "2-13-4",
          "question": "查看默认集成显卡型号的终端命令是什么？",
          "answers": [
            {
              "text": "lspci |grep -i 'VGA'",
              "answer_start": 18
            }
          ]
        },
        {
          "id": "2-13-5",
          "question": "如何通过终端查询NVIDIA类型的显卡型号？",
          "answers": [
            {
              "text": "执行命令：lspci |grep -i nvidia",
              "answer_start": 56
            }
          ]
        },
        {
          "id": "2-13-6",
          "question": "通过查看开机信息获取显卡信息的终端命令是什么？",
          "answers": [
            {
              "text": "sudo dmesg | grep -i 'VGA'",
              "answer_start": 88
            }
          ]
        }
      ]
    },
    {
      "context": "AMD（原ATI）显卡需要安装闭源显卡驱动，然后终端执行：sudo aticonfig --odgt；NVIDIA显卡需要安装闭源显卡驱动，然后终端执行：sudo nvidia-settings -q GPUCoreTemp -t；摩尔线程显卡需要安装摩尔线程提供的驱动，然后终端执行：mthreads-gmi",
      "qas": [
        {
          "id": "2-13-7",
          "question": "查询AMD（原ATI）显卡硬件温度的前提和终端命令是什么？",
          "answers": [
            {
              "text": "前提是安装闭源显卡驱动，终端命令为sudo aticonfig --odgt",
              "answer_start": 0
            }
          ]
        },
        {
          "id": "2-13-8",
          "question": "查询NVIDIA显卡硬件温度需要满足什么前提？对应的终端命令是什么？",
          "answers": [
            {
              "text": "前提是安装闭源显卡驱动，终端命令为sudo nvidia-settings -q GPUCoreTemp -t",
              "answer_start": 59
            }
          ]
        },
        {
          "id": "2-13-9",
          "question": "查询摩尔线程显卡硬件温度的驱动要求和终端命令分别是什么？",
          "answers": [
            {
              "text": "需安装摩尔线程提供的驱动，终端命令为mthreads-gmi",
              "answer_start": 135
            }
          ]
        }
      ]
    },
    {
      "context": "Linux系统安装完成后，就会默认启用内核自带的开源驱动，开源驱动虽然性能不如闭源驱动，但是兼容性和稳定性较为优秀。如果系统没有问题，不建议安装闭源驱动",
      "qas": [
        {
          "id": "2-13-10",
          "question": "Linux系统安装后默认启用的显卡驱动是什么？",
          "answers": [
            {
              "text": "内核自带的开源驱动",
              "answer_start": 18
            }
          ]
        },
        {
          "id": "2-13-11",
          "question": "开源驱动与闭源驱动在性能、兼容性和稳定性上有何差异？",
          "answers": [
            {
              "text": "开源驱动性能不如闭源驱动，但兼容性和稳定性较为优秀",
              "answer_start": 36
            }
          ]
        },
        {
          "id": "2-13-12",
          "question": "在什么情况下不建议安装闭源驱动？",
          "answers": [
            {
              "text": "如果系统没有问题，不建议安装闭源驱动",
              "answer_start": 85
            }
          ]
        }
      ]
    },
    {
      "context": "ATI显卡安装闭源驱动：由于ATI显卡的闭源驱动更新较慢，建议安装源内的版本，不建议安装ATI官方提供的版本。命令自动安装：安装源内版本，终端执行：sudo apt-get install fglrx-driver  #安装驱动包。卸载：命令卸载，终端执行（如果开机无法进入X，就进入TTY执行命令）：sudo apt-get purge fglrx* glx-alternative-fglrx libgl1-fglrx* #删除驱动包",
      "qas": [
        {
          "id": "2-13-13",
          "question": "安装ATI显卡闭源驱动时，推荐和不推荐的版本来源分别是什么？",
          "answers": [
            {
              "text": "推荐安装源内的版本，不推荐安装ATI官方提供的版本",
              "answer_start": 23
            }
          ]
        },
        {
          "id": "2-13-14",
          "question": "自动安装ATI显卡源内闭源驱动的终端命令是什么？",
          "answers": [
            {
              "text": "sudo apt-get install fglrx-driver",
              "answer_start": 89
            }
          ]
        },
        {
          "id": "2-13-15",
          "question": "卸载ATI显卡闭源驱动的终端命令是什么？开机无法进入X时该如何执行？",
          "answers": [
            {
              "text": "终端命令为sudo apt-get purge fglrx* glx-alternative-fglrx libgl1-fglrx*；开机无法进入X时，进入TTY执行该命令",
              "answer_start": 137
            }
          ]
        }
      ]
    },
    {
      "context": "NVIDIA显卡安装闭源驱动（命令自动安装）：在BIOS里禁用其中之一，如果禁用NVIDIA显卡的话也许会提升电池续航能力，但并不适用于所有BIOS，也不能切换显卡。安装源内版本，终端执行：sudo apt-get install nvidia-driver #安装驱动包；如果以上命令不能正常安装驱动，终端执行：sudo apt install nvidia-detect > /dev/null 2>&1  && nvidia-detect  #检测合适的驱动包，然后使用命令安装对应的驱动包，例如检测结果为nvidia-legacy-340xx-driver，命令为sudo apt-get install  nvidia-legacy-340xx-driver #安装驱动包",
      "qas": [
        {
          "id": "2-13-16",
          "question": "在BIOS中禁用NVIDIA显卡可能有什么效果？该操作存在哪些局限？",
          "answers": [
            {
              "text": "可能提升电池续航能力；局限是不适用于所有BIOS，也不能切换显卡",
              "answer_start": 28
            }
          ]
        },
        {
          "id": "2-13-17",
          "question": "NVIDIA显卡源内闭源驱动自动安装的默认终端命令是什么？",
          "answers": [
            {
              "text": "sudo apt-get install nvidia-driver",
              "answer_start": 129
            }
          ]
        },
        {
          "id": "2-13-18",
          "question": "当默认命令无法安装NVIDIA显卡闭源驱动时，如何检测合适的驱动包？若检测结果为nvidia-legacy-340xx-driver，安装命令是什么？",
          "answers": [
            {
              "text": "检测命令为sudo apt install nvidia-detect > /dev/null 2>&1  && nvidia-detect；安装命令为sudo apt-get install  nvidia-legacy-340xx-driver",
              "answer_start": 177
            }
          ]
        }
      ]
    },
    {
      "context": "NVIDIA显卡安装闭源驱动（手动安装）：注意：安装英伟达官方.run驱动很有可能出现问题，建议使用源内版本，请斟酌。步骤：1.浏览器访问NVIDIA官网，下载与硬件相符合的闭源驱动安装文件，放到家目录下（例：“NVIDIA-Linux-x86_64-352.55.run”），不要改名字；2.按“Ctrl+Alt+F2”进入tty2，登录系统；3.停止lightdm服务：sudo systemctl stop lightdm #关闭登录管理器服务；4.若有旧驱动先卸载：sudo apt-get remove --purge nvidia*；5.若之前用nouveau则禁用：echo 'blacklist nouveau'|sudo tee -a /etc/modprobe.d/nvidia-blacklists-nouveau.conf，sudo update-initramfs -u；6.安装驱动：chmod u+x NVIDIA-Linux-x86_64-352.55.run #赋予可执行权限，sudo ./NVIDIA-Linux-x86_64-352.55.run #安装驱动文件；安装中可能假死，需耐心等待；安装完成后重启，若无图形界面尝试：sudo systemctl start lightdm",
      "qas": [
        {
          "id": "2-13-19",
          "question": "手动安装NVIDIA官方.run闭源驱动的重要注意事项是什么？",
          "answers": [
            {
              "text": "安装英伟达官方.run驱动很有可能出现问题，建议使用源内版本，请斟酌",
              "answer_start": 28
            }
          ]
        },
        {
          "id": "2-13-20",
          "question": "手动安装NVIDIA闭源驱动时，如何停止lightdm服务？",
          "answers": [
            {
              "text": "在tty2中执行命令：sudo systemctl stop lightdm",
              "answer_start": 215
            }
          ]
        },
        {
          "id": "2-13-21",
          "question": "若之前使用nouveau，手动安装NVIDIA闭源驱动前如何禁用nouveau？",
          "answers": [
            {
              "text": "执行两条命令：echo 'blacklist nouveau'|sudo tee -a /etc/modprobe.d/nvidia-blacklists-nouveau.conf；sudo update-initramfs -u",
              "answer_start": 301
            }
          ]
        },
        {
          "id": "2-13-22",
          "question": "对“NVIDIA-Linux-x86_64-352.55.run”文件赋予可执行权限和执行安装的命令分别是什么？",
          "answers": [
            {
              "text": "赋予可执行权限：chmod u+x NVIDIA-Linux-x86_64-352.55.run；执行安装：sudo ./NVIDIA-Linux-x86_64-352.55.run",
              "answer_start": 413
            }
          ]
        }
      ]
    },
    {
      "context": "NVIDIA显卡闭源驱动卸载：如果为命令自动安装，终端执行：sudo apt-get remove nvidia-driver nvidia-kernel-dkms glx-alternative-nvidia；如果为手动安装，终端执行：sudo nvidia-uninstall 或 sudo nvidia-installer --uninstall",
      "qas": [
        {
          "id": "2-13-23",
          "question": "命令自动安装的NVIDIA显卡闭源驱动，卸载时需执行什么终端命令？",
          "answers": [
            {
              "text": "sudo apt-get remove nvidia-driver nvidia-kernel-dkms glx-alternative-nvidia",
              "answer_start": 31
            }
          ]
        },
        {
          "id": "2-13-24",
          "question": "手动安装的NVIDIA显卡闭源驱动，有哪些卸载命令可用？",
          "answers": [
            {
              "text": "sudo nvidia-uninstall、sudo nvidia-installer --uninstall",
              "answer_start": 103
            }
          ]
        }
      ]
    },
    {
      "context": "Intel & ATI双显卡关闭独显方法：方法一：开机时按屏幕提示进主板设置，将独显设置为不启用。方法二：在linux3.06下，1.加载模块：sudo mount -t debugfs debugfs /sys/kernel/debug；2.查看显卡状态：sudo cat /sys/kernel/debug/vgaswitcheroo/switch（正常输出含“0:DIS: : Pwr:0000:01:00.0”“1:IGD:+:Pwr:0000:00:02.0”，Off表电源关闭，Pwr表运转）；3.禁用独显执行：echo OFF > sudo /sys/kernel/debug/vgaswitcheroo/switch；4.开机自动关闭：编辑/etc/rc.local（sudo gedit /etc/rc.local），在exit 0前加“sudo mount -t debugfs debugfs /sys/kernel/debug”“echo OFF > /sys/kernel/debug/vgaswitcheroo/switch”",
      "qas": [
        {
          "id": "2-13-25",
          "question": "Intel & ATI双显卡关闭独显的方法一是什么？",
          "answers": [
            {
              "text": "开机时按屏幕提示进主板设置，将独显设置为不启用",
              "answer_start": 25
            }
          ]
        },
        {
          "id": "2-13-26",
          "question": "在linux3.06下，Intel & ATI双显卡关闭独显的方法二中，加载相关模块的命令是什么？",
          "answers": [
            {
              "text": "sudo mount -t debugfs debugfs /sys/kernel/debug",
              "answer_start": 68
            }
          ]
        },
        {
          "id": "2-13-27",
          "question": "方法二中，如何设置Intel & ATI双显卡开机自动关闭独显？",
          "answers": [
            {
              "text": "编辑/etc/rc.local（sudo gedit /etc/rc.local），在exit 0前添加“sudo mount -t debugfs debugfs /sys/kernel/debug”“echo OFF > /sys/kernel/debug/vgaswitcheroo/switch”",
              "answer_start": 322
            }
          ]
        }
      ]
    },
    {
      "context": "Intel & NVIDIA双显卡配置：1.安装nvidia驱动：sudo apt install nvidia-driver；nvidia-legacy-304xx-driver 和 nvidia-legacy-340xx-driver 是对旧显卡支持的驱动。2.编辑/etc/X11/xorg.conf（通过lspci | egrep 'VGA|3D'获取设备BusID，例00:02.0填写PCI:0:2:0）：Section \"Module\" Load \"modesetting\" EndSection；Section \"Device\" Identifier \"nvidia\" Driver \"nvidia\" BusID \"PCI:X:X:X\" Option \"AllowEmptyInitialConfiguration\" EndSection。3.编辑/etc/lightdm/display_setup.sh：#!/bin/sh；xrandr --setprovideroutputsource modesetting NVIDIA-0；xrandr --auto；xrandr --dpi 96；然后执行sudo chmod +x  /etc/lightdm/display_setup.sh",
      "qas": [
        {
          "id": "2-13-28",
          "question": "配置Intel & NVIDIA双显卡时，安装nvidia驱动的命令是什么？针对旧显卡有哪些驱动可选？",
          "answers": [
            {
              "text": "安装命令为sudo apt install nvidia-driver；旧显卡可选nvidia-legacy-304xx-driver 和 nvidia-legacy-340xx-driver",
              "answer_start": 25
            }
          ]
        },
        {
          "id": "2-13-29",
          "question": "配置Intel & NVIDIA双显卡时，如何获取设备BusID？编辑/etc/X11/xorg.conf需添加哪些核心内容？",
          "answers": [
            {
              "text": "通过命令lspci | egrep 'VGA|3D'获取BusID（例00:02.0填写PCI:0:2:0）；需添加：Section \"Module\" Load \"modesetting\" EndSection；Section \"Device\" Identifier \"nvidia\" Driver \"nvidia\" BusID \"PCI:X:X:X\" Option \"AllowEmptyInitialConfiguration\" EndSection",
              "answer_start": 112
            }
          ]
        },
        {
          "id": "2-13-30",
          "question": "编辑/etc/lightdm/display_setup.sh后，需要执行什么命令来赋予权限？",
          "answers": [
            {
              "text": "sudo chmod +x  /etc/lightdm/display_setup.sh",
              "answer_start": 475
            }
          ]
        }
      ]
    },
    {
      "context": "安装闭源驱动后可能出现：开机动画消失、分辨率异常、电脑温度大幅度上升，这些多为闭源驱动的副作用，建议卸载闭源驱动。解决驱动兼容性故障：1.能进入图形界面：用“附加驱动”更换列表中的其他驱动，重启生效；2.只能进入恢复模式：执行sudo apt-get autoremove --purge nvidia-*（移除驱动及配置文件），然后执行sudo reboot（重启）",
      "qas": [
        {
          "id": "2-13-31",
          "question": "安装闭源驱动后常见的副作用有哪些？遇到这些情况建议怎么做？",
          "answers": [
            {
              "text": "副作用包括开机动画消失、分辨率异常、电脑温度大幅度上升；建议卸载闭源驱动",
              "answer_start": 0
            }
          ]
        },
        {
          "id": "2-13-32",
          "question": "当驱动兼容性故障且能进入图形界面时，如何解决？",
          "answers": [
            {
              "text": "使用“附加驱动”更换列表中的其他驱动，重启后安装生效",
              "answer_start": 85
            }
          ]
        },
        {
          "id": "2-13-33",
          "question": "只能进入恢复模式时，如何解决驱动兼容性故障？",
          "answers": [
            {
              "text": "执行sudo apt-get autoremove --purge nvidia-*（移除驱动及配置文件），然后执行sudo reboot重启计算机",
              "answer_start": 137
            }
          ]
        }
      ]
    },
    {
      "context": "显卡相关链接：Debian Wiki: GraphicsCard（https://wiki.debian.org/GraphicsCard）、Bumblebee项目主页（http://www.bumblebee-project.org/）、Bumblebee常见问题（https://github.com/Bumblebee-Project/Bumblebee/wiki/FAQ）",
      "qas": [
        {
          "id": "2-13-34",
          "question": "文中提到的显卡相关链接有哪些？",
          "answers": [
            {
              "text": "1. Debian Wiki: GraphicsCard，链接https://wiki.debian.org/GraphicsCard；2. Bumblebee项目主页，链接http://www.bumblebee-project.org/；3. Bumblebee常见问题，链接https://github.com/Bumblebee-Project/Bumblebee/wiki/FAQ",
              "answer_start": 12
            }
          ]
        }
      ]
    },
    {
      "context": "常见问题\n\n如果安装闭源驱动后，出现类似开机动画消失、分辨率异常、电脑温度大幅度上升，大都为闭源驱动的副作用，建议卸载闭源驱动。\n\n自行下载官网的闭源驱动，更新闭源新版驱动，会随机出现的严重vlinuz启动内核编译失败，导致系统无法引导至图形界面，而且即使编译成功，也并不能保证与闭源驱动版本号准确对应，同样会造成系统无法引导至图形界面。使用“附加驱动”内提供的闭源驱动相对安全一些，风险也较低。",
      "qas": [
        {
          "id": "2-13-35",
          "question": "为什么建议使用“附加驱动”内的闭源驱动？",
          "answers": [
            {
              "text": "相对安全一些，风险也较低",
              "answer_start": 241
            }
          ]
        }
      ]
    }
  ]
}