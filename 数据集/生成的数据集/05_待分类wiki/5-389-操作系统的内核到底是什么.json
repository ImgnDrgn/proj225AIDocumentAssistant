{
  "title": "操作系统的内核到底是什么？",
  "paragraphs": [
    {
      "context": "本质上内核是对计算机硬件的抽象。这样说是因为这里涉及到一个更根本的问题：人机交互。如何让计算机理解人的想法，需求，并将之实现。比如：让计算机计算一下硬盘中的一个文档的字数。我们是没有办法去打开“硬盘”翻箱倒柜找到这个文件，然后丢给“CPU”去统计，并从“CPU”那里得到这个结果。对于计算机内部真正的核心组成部分：CPU、硬盘、内存等等这些硬件，人是无法直接去面对和交互的。而计算机处理的所有工作，都是通过调用这些硬件设备来完成的。对操作系统来说，最重要的正是管理和调度计算机内部的资源。而具体到操作系统的内部分工，则是由内核来真正完成和执行的。除了内核以外，操作系统其他所有的部件，都不需要也不关注如何计算、如何存储、如何和具体的某个硬件设备打交道。所有的部件都只需要将具体的诉求传递给内核，调用内核的接口，即可完成硬件资源的调度和使用。内核抽象了计算机内部硬件资源，并统一管理对外提供支持，所以内核 = 计算机硬件。",
      "qas": [
        {"id": "5-389-1", "question": "内核本质上是什么？", "answers": [{"text": "对计算机硬件的抽象", "answer_start": 6}]},
        {"id": "5-389-2", "question": "操作系统中，谁真正完成和执行管理调度计算机内部资源的工作？", "answers": [{"text": "内核", "answer_start": 297}]},
        {"id": "5-389-3", "question": "为什么说内核 = 计算机硬件？", "answers": [{"text": "内核抽象了计算机内部硬件资源，并统一管理对外提供支持", "answer_start": 497}]}
      ]
    },
    {
      "context": "具体到内核内部的组成部分和抽象结构，内核的核心功能和硬件有如下对应和抽象关系：进程管理 —— CPU；内存管理 —— 内存；虚拟文件系统 —— 硬盘/磁盘；网络接口 —— 网卡。",
      "qas": [
        {"id": "5-389-4", "question": "内核的进程管理对应什么硬件？", "answers": [{"text": "CPU", "answer_start": 87}]},
        {"id": "5-389-5", "question": "内核的内存管理对应什么硬件？", "answers": [{"text": "内存", "answer_start": 101}]},
        {"id": "5-389-6", "question": "内核的虚拟文件系统对应什么硬件？", "answers": [{"text": "硬盘/磁盘", "answer_start": 120}]},
        {"id": "5-389-7", "question": "内核的网络接口对应什么硬件？", "answers": [{"text": "网卡", "answer_start": 142}]}
      ]
    },
    {
      "context": "既然硬件是由内核去管理和调度的，那么内核又是如何做到的呢？从内核的代码量上来说，内核的绝大部分代码是驱动，各个不同设备不同硬件的驱动。驱动是内核和硬件设备之间的桥梁，内核也正是通过驱动来管理和调度硬件设备。",
      "qas": [
        {"id": "5-389-8", "question": "内核通过什么来管理和调度硬件设备？", "answers": [{"text": "驱动", "answer_start": 166}]},
        {"id": "5-389-9", "question": "内核代码中，绝大部分是什么？", "answers": [{"text": "驱动", "answer_start": 85}]}
      ]
    },
    {
      "context": "除了驱动以外，内核的另外一部分是各种算法、函数、策略，但是代码量较少。这一部分确实有价值，但是并非唯一无可替代，也并非具有卡脖子的门槛存在。内核真正的价值是其本身涵盖的生态 —— 各种驱动和硬件的适配，日积月累的沉淀。对内核来说，真正关键和重要的是如何保证在更多甚至每一个设备上都能运行。算法和技术的难度形成的门槛，远远比不上日积月累的时间所形成的门槛。使用Linux内核，最大的原因是复用和继承Linux的生态。而且，Linux开源的内核现在的主要演进工作也是生态的扩大。比如最新发布的Linux原生内核5.15就有如下几个重点更新：1、集成Paragon Software 的 NTSF3 driver；2、支持AMD 的GPU/CPU；3、支持apple M1芯片；4、支持Intel 12代CPU；5、支持Intel DG2显卡。",
      "qas": [
        {"id": "5-389-10", "question": "内核真正的价值是什么？", "answers": [{"text": "其本身涵盖的生态 —— 各种驱动和硬件的适配，日积月累的沉淀", "answer_start": 149}]},
        {"id": "5-389-11", "question": "使用Linux内核最大的原因是什么？", "answers": [{"text": "复用和继承Linux的生态", "answer_start": 406}]},
        {"id": "5-389-12", "question": "Linux开源内核现在的主要演进工作是什么？", "answers": [{"text": "生态的扩大", "answer_start": 457}]},
        {"id": "5-389-13", "question": "Linux原生内核5.15的重点更新之一是什么？", "answers": [{"text": "集成Paragon Software 的 NTSF3 driver", "answer_start": 517}]}
      ]
    },
    {
      "context": "Linux 内核主要的变化点概括来说有如下三点：新技术新协议的支持、自身算法和策略的优化和bug修复、新硬件新设备的驱动集成和支持。其中第一点和第三点都是为扩大和维护软件和硬件的生态。而做国产操作系统最重要的一点也是如此，扩大和支持国产硬件的生态。所以使用Linux开源内核，而不去自研一套，“非不能也，实不为也”。生态的打造是日积月累，沉淀之功，即便是国产硬件的生态支持也不是一日之功。集成和使用Linux内核是成本最低，效用最大，且行之有效的策略。",
      "qas": [
        {"id": "5-389-14", "question": "Linux内核主要的变化点有哪三点？", "answers": [{"text": "新技术新协议的支持、自身算法和策略的优化和bug修复、新硬件新设备的驱动集成和支持", "answer_start": 17}]},
        {"id": "5-389-15", "question": "做国产操作系统最重要的一点是什么？", "answers": [{"text": "扩大和支持国产硬件的生态", "answer_start": 207}]},
        {"id": "5-389-16", "question": "为什么使用Linux开源内核而不自研？", "answers": [{"text": "生态的打造是日积月累，沉淀之功，即便是国产硬件的生态支持也不是一日之功。集成和使用Linux内核是成本最低，效用最大，且行之有效的策略", "answer_start": 262}]}
      ]
    },
    {
      "context": "如果一个操作系统有更高的目的和使命，那么继承和复用只是基础。更重要的如何去掌握、主导和发展，走自己的路，满足自己的需求，这一点对国产操作系统更是如此。Linux开源内核没有适配和支持国内的硬件生态，需要自己来兼容和适配，支持这个生态的发展。Linux开源内核没有考虑的国内使用环境和安全要求，需要自己来投入和满足，保护自己。",
      "qas": [
        {"id": "5-389-17", "question": "对国产操作系统来说，比继承和复用更重要的是什么？", "answers": [{"text": "如何去掌握、主导和发展，走自己的路，满足自己的需求", "answer_start": 65}]},
        {"id": "5-389-18", "question": "Linux开源内核在国内硬件生态方面存在什么问题？", "answers": [{"text": "没有适配和支持国内的硬件生态", "answer_start": 162}]},
        {"id": "5-389-19", "question": "Linux开源内核在国内使用环境和安全要求方面存在什么问题？", "answers": [{"text": "没有考虑国内使用环境和安全要求", "answer_start": 236}]}
      ]
    },
    {
      "context": "每次谈到什么是内核，就是：进程调度、内存管理、文件系统、网络接口、进程通信等等这些。然后就是内核态、用户态等等。这些其实都对，但是始终感觉没法让人直观的知道，内核到底是个什么东西。本质上内核是对计算机硬件的抽象。",
      "qas": [
        {"id": "5-389-20", "question": "作者认为传统的内核解释缺乏什么？", "answers": [{"text": "没法让人直观的知道，内核到底是个什么东西", "answer_start": 67}]}
      ]
    },
    {
      "context": "这样说是因为这里涉及到一个更根本的问题：人机交互。如何让计算机理解人的想法，需求，并将之实现。比如：让计算机计算一下硬盘中的一个文档的字数。我们是没有办法去打开“硬盘”翻箱倒柜找到这个文件，然后丢给“CPU”去统计，并从“CPU”那里得到这个结果。对于计算机内部真正的核心组成部分：CPU、硬盘、内存等等这些硬件，人是无法直接去面对和交互的。而计算机处理的所有工作，都是通过调用这些硬件设备来完成的。",
      "qas": [
        {"id": "5-389-21", "question": "为什么人类无法直接操作计算机硬件？", "answers": [{"text": "人是无法直接去面对和交互的", "answer_start": 197}]},
        {"id": "5-389-22", "question": "作者举例说明人类需要内核处理什么任务？", "answers": [{"text": "计算一下硬盘中的一个文档的字数", "answer_start": 84}]}
      ]
    },
    {
      "context": "对操作系统来说，最重要的正是管理和调度计算机内部的资源。而具体到操作系统的内部分工，则是由内核来真正完成和执行的。除了内核以外，操作系统其他所有的部件，都不需要也不关注如何计算、如何存储、如何和具体的某个硬件设备打交道。所有的部件都只需要将具体的诉求传递给内核，调用内核的接口，即可完成硬件资源的调度和使用。内核抽象了计算机内部硬件资源，并统一管理对外提供支持，所以内核 = 计算机硬件。具体到内核内部的组成部分和抽象结构，内核的核心功能和硬件有如下对应和抽象关系：进程管理 —— CPU，内存管理 —— 内存，虚拟文件系统 —— 硬盘/磁盘，网络接口 —— 网卡。",
      "qas": [
        {"id": "5-389-23", "question": "操作系统除内核外的部件如何与硬件交互？", "answers": [{"text": "将具体的诉求传递给内核，调用内核的接口", "answer_start": 136}]},
        {"id": "5-389-24", "question": "内核与硬件资源的对应关系中，CPU对应什么功能？", "answers": [{"text": "进程管理", "answer_start": 262}]}
      ]
    },
    {
      "context": "既然硬件是由内核去管理和调度的，那么内核又是如何做到的呢？从内核的代码量上来说，内核的绝大部分代码是驱动，各个不同设备不同硬件的驱动。驱动是内核和硬件设备之间的桥梁，内核也正是通过驱动来管理和调度硬件设备。除了驱动以外，内核的另外一部分是各种算法、函数、策略，但是代码量较少。",
      "qas": [
        {"id": "5-389-25", "question": "非驱动部分的内核代码包含什么内容？", "answers": [{"text": "各种算法、函数、策略", "answer_start": 129}]}
      ]
    },
    {
      "context": "使用Linux内核，最大的原因是复用和继承Linux的生态。而且，Linux开源的内核现在的主要演进工作也是生态的扩大。比最新发布的Linux原生内核5.15就有如下几个重点更新：1、集成Paragon Software 的 NTSF3 driver，2、支持AMD 的GPU/CPU，3、支持apple M1芯片，4、支持Intel 12代CPU，5、支持Intel DG2显卡。",
      "qas": [
        {"id": "5-389-26", "question": "Linux 5.15更新中支持哪些新硬件？", "answers": [{"text": "支持AMD 的GPU/CPU，支持apple M1芯片，支持Intel 12代CPU，支持Intel DG2显卡", "answer_start": 118}]}
      ]
    },
    {
      "context": "Linux 内核主要的变化点概括来说有如下三点：新技术新协议的支持、自身算法和策略的优化和bug修复、新硬件新设备的驱动集成和支持。其中第一点和第三点都是为扩大和维护软件和硬件的生态。而做国产操作系统最重要的一点也是如此，扩大和支持国产硬件的生态。所以使用Linux开源内核，而不去自研一套，“非不能也，实不为也”。生态的打造是日积月累，沉淀之功，即便是国产硬件的生态支持也不是一日之功。",
      "qas": [
        {"id": "5-389-27", "question": "Linux内核演进的三大方向是什么？", "answers": [{"text": "新技术新协议的支持、自身算法和策略的优化和bug修复、新硬件新设备的驱动集成和支持", "answer_start": 28}]}
      ]
    }
  ]
}